(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{10:function(e,t,n){e.exports={searchbar:"Searchbar_searchbar__8iuoS",searchForm:"Searchbar_searchForm__eKloI",button:"Searchbar_button__3TJh9",input:"Searchbar_input__1zK0y"}},13:function(e,t,n){e.exports={gallery:"ImageGallery_gallery__63Srn",message:"ImageGallery_message__3T5AB",blink:"ImageGallery_blink__185SQ"}},15:function(e,t,n){e.exports={item:"ImageGalleryItem_item__2kNc_",image:"ImageGalleryItem_image__3n6Zd"}},16:function(e,t,n){e.exports={container:"Button_container__2rBUW",button:"Button_button__37BKk",puls:"Button_puls__30VTX"}},17:function(e,t,n){e.exports={overlay:"Modal_overlay__JpiX8",modal:"Modal_modal__2DYsJ"}},22:function(e,t,n){e.exports={spinner:"Loader_spinner__3pX18"}},32:function(e,t,n){},34:function(e,t,n){},64:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(7),o=n.n(c),s=(n(32),n(8)),i=n.n(s),l=n(18),u=n(12),j=n(5),d=(n(34),n(6)),b=(n(35),n(10)),m=n.n(b),h=n(19),f=n.n(h),p=n(1);function O(e){var t=e.onQueryUpdate,n=Object(a.useState)(""),r=Object(j.a)(n,2),c=r[0],o=r[1];return Object(p.jsx)("header",{className:m.a.searchbar,children:Object(p.jsxs)("form",{className:m.a.searchForm,onSubmit:function(e){e.preventDefault(),""===c.trim()?d.c.info("Please enter at least a couple of letters:)",{theme:"colored",position:"bottom-center",autoClose:5e3,transition:d.a,toastId:1}):t(c),o("")},children:[Object(p.jsx)("button",{type:"submit",className:m.a.button,children:Object(p.jsx)(f.a,{style:{fontSize:36,color:"#3f51b5"}})}),Object(p.jsx)("input",{onChange:function(e){o(e.target.value.toLowerCase())},value:c,className:m.a.input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})}var g=n(13),x=n.n(g),_=n(21),v=n.n(_),y=n(22),k=n.n(y);function w(){return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("div",{className:k.a.spinner,children:Object(p.jsx)(v.a,{type:"Grid",color:"#3f51b5",height:100,width:100,timeout:2e3})})})}function S(e){var t=e.query,n=e.status,r=e.children;return Object(a.useEffect)((function(){"rejected"===n&&d.c.error("No (more) image found for ".concat(t),{theme:"colored",position:"bottom-center",autoClose:5e3,transition:d.a,toastId:2})})),Object(p.jsxs)("ul",{className:x.a.gallery,children:["idle"===n&&Object(p.jsx)("li",{className:x.a.message,children:"PLease, start image search! "}),"pending"===n&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("li",{className:x.a.message,children:"loading..., please wait"})," ",Object(p.jsx)(w,{})]}),r]})}var I=n(15),N=n.n(I);function C(e){var t=e.images,n=e.onClickOpenModal,a=e.handlerBigImageUrl,r=function(e){n(),a(e)};return Object(p.jsx)(p.Fragment,{children:t.length>=1&&t.map((function(e,t){var n=e.id,a=e.webformatURL,c=e.largeImageURL,o=e.tags;return Object(p.jsx)("li",{id:n,className:N.a.item,onClick:r,children:Object(p.jsx)("img",{src:a,"data-src":c,alt:o,className:N.a.image})},t)}))})}var F=n(16),L=n.n(F);function B(e){var t=e.status,n=e.handlerPageIncrement;return Object(p.jsx)(p.Fragment,{children:"resolved"===t&&Object(p.jsx)("div",{className:L.a.container,children:Object(p.jsx)("button",{onClick:n,className:L.a.button,children:"Load more"})})})}var U=n(23),E=n(24),T=n(26),M=n(25),G=function(e){Object(T.a)(n,e);var t=Object(M.a)(n);function n(){var e;Object(U.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={error:null,errorInfo:null},e}return Object(E.a)(n,[{key:"componentDidCatch",value:function(e,t){this.setState({error:e,errorInfo:t})}},{key:"render",value:function(){return this.state.errorInfo?Object(p.jsxs)("div",{children:[Object(p.jsx)("h2",{children:"\u0423\u043f\u0441..! \u0421\u043a\u043e\u0440\u0435\u0435 \u0432\u0441\u0435\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440 \u0432\u0435\u0440\u043d\u0443\u043b \u043a\u0440\u0438\u0432\u043e\u0439 JSON \u0438\u043b\u0438 \u043c\u0430\u0441\u0441\u0438\u0432 \u0438 \u044f \u043d\u0435 \u043c\u043e\u0433\u0443 \u0435\u0433\u043e \u043e\u0442\u0440\u0435\u043d\u0434\u0435\u0440\u0438\u0442\u044c. \u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u0437\u0430\u043f\u0440\u043e\u0441."}),Object(p.jsxs)("details",{style:{whiteSpace:"pre-wrap"},children:[this.state.error&&this.state.error.toString(),Object(p.jsx)("br",{}),this.state.errorInfo.componentStack]})]}):this.props.children}}]),n}(a.Component),J=n(17),P=n.n(J);function R(e){var t=e.onClickCloseModal,n=e.modalState,r=e.hdImgURL;Object(a.useEffect)((function(){var e=function(e){"Escape"===e.key&&t()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[t]);return Object(p.jsx)(p.Fragment,{children:n&&Object(p.jsx)("div",{className:P.a.overlay,onClick:function(e){e.currentTarget===e.target&&t()},children:Object(p.jsx)("div",{className:P.a.modal,children:Object(p.jsx)("img",{src:r,alt:"target big"})})})})}var q=function(){var e=Object(u.a)(i.a.mark((function e(t,n){var a,r,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://pixabay.com/api/?q=".concat(t,"&page=").concat(n,"&key=22469434-62330606312f34e078b383df4&image_type=photo&orientation=horizontal&per_page=12"));case 2:return a=e.sent,e.next=5,a.json();case 5:return r=e.sent,c=r.hits,e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),z=q;function D(){var e=Object(a.useState)(""),t=Object(j.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)([]),o=Object(j.a)(c,2),s=o[0],b=o[1],m=Object(a.useState)(1),h=Object(j.a)(m,2),f=h[0],g=h[1],x=Object(a.useState)("idle"),_=Object(j.a)(x,2),v=_[0],y=_[1],k=Object(a.useState)(!1),w=Object(j.a)(k,2),I=w[0],N=w[1],F=Object(a.useState)(""),L=Object(j.a)(F,2),U=L[0],E=L[1];Object(a.useEffect)((function(){Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,""===n){e.next=8;break}return e.next=4,z(n,f);case 4:t=e.sent,b((function(e){return[].concat(Object(l.a)(e),Object(l.a)(t))})),t.length>=12?y("resolved"):(y("rejected"),setTimeout((function(){return y("idle")}),5e3)),1===f?window.scrollTo({top:0,behavior:"smooth"}):window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"});case 8:e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),y("rejected"),setTimeout((function(){return y("idle")}),5e3);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))()}),[f,n]);return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(O,{onQueryUpdate:function(e){n!==e&&(r(e),g(1),y("pending"),b([]))}}),Object(p.jsx)(G,{children:Object(p.jsx)(S,{status:v,query:n,children:Object(p.jsx)(C,{images:s,onClickOpenModal:function(){N(!0)},handlerBigImageUrl:function(e){E(e.target.dataset.src)}})})}),Object(p.jsx)(B,{status:v,handlerPageIncrement:function(){g((function(e){return e+1})),y("pending")}}),Object(p.jsx)(R,{onClickCloseModal:function(){N(!1)},modalState:I,hdImgURL:U}),Object(p.jsx)(d.b,{style:{width:"inherit"}})]})}o.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(D,{})}),document.getElementById("root"))}},[[64,1,2]]]);
//# sourceMappingURL=main.65d58b02.chunk.js.map